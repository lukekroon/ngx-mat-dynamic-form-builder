<mat-form-field [appearance]="appearance" fxFlex>
    <mat-label>{{label}}</mat-label>
    <input matInput [placeholder]="placeholder" [readonly]="disabled" aria-label="AutoComplete" [matAutocomplete]="auto"
        [formControl]="stateCtrl">
    <mat-autocomplete #auto="matAutocomplete" autoActiveFirstOption (optionSelected)="setValue($event)"
        [displayWith]="displayFn.bind(this)">
        <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
            <span>{{option[displayKey]}}</span>
        </mat-option>
    </mat-autocomplete>
    <button mat-button *ngIf="stateCtrl.value && !disabled" matSuffix mat-icon-button aria-label="Clear"
        (click)="clearValue()">
        <mat-icon>close</mat-icon>
    </button>
    <mat-hint>{{hint}}</mat-hint>
    <mat-error *ngIf="!stateCtrl.valid && stateCtrl.touched">Select valid option</mat-error>
</mat-form-field>